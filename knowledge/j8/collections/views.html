<!DOCTYPE html>
<html>
	<body>
    	<h1>Col. views</h1>
    	<p>
            <h2>Views</h2>
            <h2>Представления</h2>
            Метод map.keySet() возвращает не новое множество, заполенное ключами из map,
            а объект класса, реализующего и. Set, методы которого манипулируют исходным map.
            Такая коллекция и называется представлением.
    	</p>
        <p>
            <h2>Легковесные оболочки коллекций</h2>
            <div>
                Метод Arrays.asList() возвращает объект типа List - оболочку, в которую заключен массив.
            </div>
            <div>
                Метод Collections.nCopies(n, anObject) возвращает unmodifiable объект, р. и. List.
                Создается впечатление, что вернулась коллекция из n элементов, каждый из которых копирует anObject.
            </div>
            <div>
                Метод Collections.singleton(anObject) возвращает представление, р. и. Set, которое является 
                unmodifiable одноэлементным множеством, не имея при этом издержек, которыми обладают структуры данных.
                Аналогично ведут себя методы singletonList() и singletonMap().
            </div>
    	</p>
        <p>
            <h2>Поддиапазоны</h2>
            Представления поддиапазонов формируются, например, так:
            <code>List&lt;Employee&gt; group = staff.subList(10, 20);</code>
            Операции над полученным поддиапазоном - это операции над элементами исходного списка.
            Можно удалить весь поддиапазон элементов:
            <code>group.clear();</code>
        </p>
        <p>
            <h2>Немодифицируемые представления</h2>
            Среди методов класса Collections есть такие, которые предоставляют немодифицируемые
            представления коллекций, например:
            <code>Collections.unmodifiableCollection</code>
            <code>Collections.unmodifiableList</code>
            <code>Collections.unmodifiableSet</code>
            <code>Collections.unmodifiableSortedSet</code>
            <code>Collections.unmodifiableMap</code>
            <code>Collections.unmodifiableSortedMap</code>
            Немодифицируемые представления заключают в оболочку интерфейс коллекции, делая недоступными методы,
            которые могут изменить коллекцию.
        </p>
        <mark>
            В представлениях (unmodifiableCollection(), synchronizedCollection() и checkedCollection())
            используется не унаследованный от базовой коллекции метод equals(), а метод equals() из класса Object.
            Это относится и к методу hashCode(). Хотя unmodifiableSet() и unmodifiableList() возвращают объекты,
            которые используют equals() и hashCode() из базовой коллекции.
        </mark>
        <p>
            <h2>Синхронизированные представления</h2>
            Статик метод 
            <code>Collections.synchronizedMap()</code>
            превращает любое отображение в объект типа Map с синхронизированными методами,
            т. е. к нему можно обращаться из нескольких потоков исполнения.
        </p>
        <p>
            <h2>Проверяемые представления</h2>
            Проверяемые представления предназначены для поддержки отладки ошибок,
            сопутствующих применению обобщенных типов в прикладном коде.
            Проверяемые представления создаются фабриками:
            <code>Collections.checkedList(list, String.class)</code>
            Модифицирующие методы проверяемых представлений проверяют принадлежность вводимых объектов заданному классу.
            При обнаружении несоответствия генерируется ClassCastException.
            Преимущество этого подхода в том, что ошибка возникает в относительно легко обнаруживаемом месте кода.
        </p>
	</body>
</html>